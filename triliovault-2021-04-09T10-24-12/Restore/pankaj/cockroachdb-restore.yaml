apiVersion: triliovault.trilio.io/v1
kind: Restore
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"triliovault.trilio.io/v1","kind":"Restore","metadata":{"annotations":{},"name":"cockroachdb-restore","namespace":"pankaj"},"spec":{"restoreNamespace":"pankaj","skipIfAlreadyExists":true,"source":{"backup":{"name":"cockroachdb-full-backup"},"type":"Backup"}}}
  creationTimestamp: "2021-04-02T05:32:42Z"
  finalizers:
  - child-delete-finalizer
  generation: 1
  name: cockroachdb-restore
  namespace: pankaj
  resourceVersion: "83839472"
  selfLink: /apis/triliovault.trilio.io/v1/namespaces/pankaj/restores/cockroachdb-restore
  uid: 3fd50a73-f868-4854-8617-b12a8aa2bead
spec:
  restoreNamespace: pankaj
  skipIfAlreadyExists: true
  source:
    backup:
      apiVersion: triliovault.trilio.io/v1
      kind: Backup
      name: cockroachdb-full-backup
      namespace: pankaj
      resourceVersion: "83834265"
      uid: 81c34c58-f83e-4a0e-813d-84b811eb2c4b
    target:
      apiVersion: triliovault.trilio.io/v1
      kind: Target
      name: sample-target-1
      namespace: pankaj
      resourceVersion: "83820095"
      uid: 104aa58e-139d-4d44-b331-a6aa8536dd5e
    type: Backup
status:
  completionTimestamp: "2021-04-02T05:33:31Z"
  condition:
  - phase: Validation
    reason: Validation InProgress
    status: InProgress
    timestamp: "2021-04-02T05:32:44Z"
  - phase: Validation
    reason: Validation Completed
    status: Completed
    timestamp: "2021-04-02T05:33:04Z"
  - phase: MetadataRestore
    reason: MetadataRestore InProgress
    status: InProgress
    timestamp: "2021-04-02T05:33:06Z"
  - phase: MetadataRestore
    reason: MetadataRestore Completed
    status: Completed
    timestamp: "2021-04-02T05:33:31Z"
  hookStatus: {}
  percentageCompletion: 100
  phase: MetadataRestore
  phaseStatus: Completed
  restoreApplication:
    helmCharts:
    - snapshot:
        newRelease: cockroachdbvwpp
        release: cockroachdb-app
        resources:
        - groupVersionKind:
            kind: Secret
            version: v1
          objects:
          - sh.helm.release.v1.cockroachdbvwpp.v1
        - groupVersionKind:
            group: batch
            kind: Job
            version: v1
          objects:
          - cockroachdbvwpp-init
        - groupVersionKind:
            group: policy
            kind: PodDisruptionBudget
            version: v1beta1
          objects:
          - cockroachdbvwpp-budget
        - groupVersionKind:
            kind: Service
            version: v1
          objects:
          - cockroachdbvwpp
          - cockroachdbvwpp-public
        - groupVersionKind:
            group: apps
            kind: StatefulSet
            version: v1
          objects:
          - cockroachdbvwpp
        revision: 1
        storageBackend: Secret
        version: v3
      status:
        phase: MetadataRestore
        phaseStatus: Completed
        reason: Restore MetaData Operation Successful
  restoreScope: App
  size: "0"
  startTimestamp: "2021-04-02T05:32:43Z"
  status: Completed
