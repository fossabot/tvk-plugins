apiVersion: triliovault.trilio.io/v1
kind: Restore
metadata:
  creationTimestamp: "2021-02-23T02:52:56Z"
  generation: 1
  name: web-bknd-helm-operator-ophzi-zssc
  namespace: webtest
  resourceVersion: "19953725"
  selfLink: /apis/triliovault.trilio.io/v1/namespaces/webtest/restores/web-bknd-helm-operator-ophzi-zssc
  uid: 636c7412-ddc2-454e-a77c-0c2840793b1d
spec:
  patchIfAlreadyExists: true
  restoreNamespace: res-1
  source:
    backup:
      apiVersion: triliovault.trilio.io/v1
      kind: Backup
      name: web-bknd-helm-operator-ophzi-pabu
      namespace: webtest
      resourceVersion: "19953686"
      uid: d1063bc7-eeb6-48fb-aadc-09cf1b1f8c0e
    target:
      apiVersion: triliovault.trilio.io/v1
      kind: Target
      name: target-sample
      namespace: webtest
      resourceVersion: "19945531"
      uid: ad77678f-2fa9-4776-a41c-4608a873db3e
    type: Backup
status:
  completionTimestamp: "2021-02-23T02:55:56Z"
  percentageCompletion: 100
  restoreApplication:
    operators:
    - snapshot:
        customResources:
        - groupVersionKind:
            group: helm.fluxcd.io
            kind: HelmRelease
            version: v1
          objects:
          - app-redis
        dataSnapshots:
        - location: 3ccb2ff0-d0f8-44b8-9854-ee6af46d0efb/748e1692-5f61-413b-85f2-c5aacf5318fc/operator/sample-fluxcd-helm-release/data-snapshot/redis-data-redis-master-0
          persistentVolumeClaimMetadata: |
            {"apiVersion":"v1","kind":"PersistentVolumeClaim","metadata":{"annotations":{"pv.kubernetes.io/bind-completed":"yes","pv.kubernetes.io/bound-by-controller":"yes","volume.beta.kubernetes.io/storage-provisioner":"pd.csi.storage.gke.io","volume.kubernetes.io/selected-node":"nodes-rkmd"},"creationTimestamp":"2020-11-25T10:04:42Z","finalizers":["kubernetes.io/pvc-protection"],"labels":{"app":"redis","component":"master","heritage":"Helm","release":"redis","role":"master"},"name":"redis-data-redis-master-0","namespace":"apps","resourceVersion":"2533120","selfLink":"/api/v1/namespaces/apps/persistentvolumeclaims/redis-data-redis-master-0","uid":"fe5774c9-f5b0-42ac-afc3-de8f21524934"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"8Gi"}},"storageClassName":"csi-gce-pd","volumeMode":"Filesystem","volumeName":"pvc-fe5774c9-f5b0-42ac-afc3-de8f21524934"},"status":{"accessModes":["ReadWriteOnce"],"capacity":{"storage":"8Gi"},"phase":"Bound"}}
          persistentVolumeClaimName: redis-data-redis-master-0
          podContainersMap:
          - containers:
            - redis
            podName: redis-master-0
          size: "8370"
          snapshotSize: "0"
        helm:
          newRelease: helm-operetvd
          release: helm-operator
          resources:
          - groupVersionKind:
              group: rbac.authorization.k8s.io
              kind: ClusterRole
              version: v1beta1
            objects:
            - helm-operetvd-helm-operator
          - groupVersionKind:
              group: rbac.authorization.k8s.io
              kind: ClusterRoleBinding
              version: v1beta1
            objects:
            - helm-operetvd-helm-operator
          - groupVersionKind:
              kind: Service
              version: v1
            objects:
            - helm-operetvd-helm-operator
          - groupVersionKind:
              group: apps
              kind: Deployment
              version: v1
            objects:
            - helm-operetvd-helm-operator
          - groupVersionKind:
              kind: Secret
              version: v1
            objects:
            - helm-operetvd-helm-operator-git-deploy
          - groupVersionKind:
              kind: ConfigMap
              version: v1
            objects:
            - helm-operetvd-helm-operator-kube-config
          - groupVersionKind:
              kind: ServiceAccount
              version: v1
            objects:
            - helm-operetvd-helm-operator
          revision: 1
          storageBackend: Secret
          version: v3
        operatorId: sample-fluxcd-helm-release
      status:
        excludedResources:
        - groupVersionKind:
            kind: PersistentVolumeClaim
            version: v1
          objects:
          - redis-data-redis-slave-0
          - redis-data-redis-slave-1
        existingResource:
        - groupVersionKind:
            group: apiextensions.k8s.io
            kind: CustomResourceDefinition
            version: v1beta1
          objects:
          - helmreleases.helm.fluxcd.io
        - groupVersionKind:
            group: helm.fluxcd.io
            kind: HelmRelease
            version: v1
          objects:
          - app-redis
        phase: MetadataRestore
        phaseStatus: Completed
        reason: Restore MetaData Operation Successful
        skippedResources:
        - groupVersionKind:
            group: apiextensions.k8s.io
            kind: CustomResourceDefinition
            version: v1beta1
          objects:
          - helmreleases.helm.fluxcd.io
  size: "8370"
  startTimestamp: "2021-02-23T02:52:56Z"
  status: Completed
