apiVersion: triliovault.trilio.io/v1
kind: BackupPlan
metadata:
  creationTimestamp: "2021-04-06T10:12:39Z"
  finalizers:
  - backupplan-delete-finalizer
  generation: 2
  labels:
    app.kubernetes.io/managed-by: k8s-triliovault-ui
    app.kubernetes.io/name: k8s-triliovault
    app.kubernetes.io/part-of: k8s-triliovault
  name: bplan-with-all-details-nfs
  namespace: pushkar
  resourceVersion: "98095114"
  selfLink: /apis/triliovault.trilio.io/v1/namespaces/pushkar/backupplans/bplan-with-all-details-nfs
  uid: 8d2a3c15-4a84-4da1-ac4c-8e3ff9141041
spec:
  backupConfig:
    retentionPolicy:
      apiVersion: triliovault.trilio.io/v1
      kind: Policy
      name: retention-policy-ns
      namespace: pushkar
      resourceVersion: "95381563"
      uid: 9828bcec-7f1a-4691-ac67-3fb5e3557980
    schedulePolicy:
      fullBackupCron:
        schedule: 1 1 1 1 1
      incrementalCron:
        schedule: 2 2 2 2 2
    target:
      apiVersion: triliovault.trilio.io/v1
      kind: Target
      name: nfs-target-ns
      namespace: pushkar
      resourceVersion: "95525754"
      uid: 4517fc76-0a3d-411e-9935-0ff7b2ceb7b7
  backupPlanComponents:
    custom:
    - matchExpressions:
      - key: app.kubernetes.io/instance
        operator: Exists
      matchLabels:
        addonmanager.kubernetes.io/mode: Reconcile
    helmReleases:
    - k8s-triliovault-1617641738
    operators:
    - applicationResourceSelector:
      - matchExpressions:
        - key: app.kubernetes.io/managed-by
          operator: Exists
        matchLabels:
          addonmanager.kubernetes.io/mode: EnsureExists
      customResources:
      - groupVersionKind:
          kind: ComponentStatus
          version: v1
        objects:
        - controller-manager
        - scheduler
        - etcd-0
        - etcd-1
      operatorId: mysql
      operatorResourceSelector:
      - matchExpressions:
        - key: app
          operator: Exists
        matchLabels:
          addonmanager.kubernetes.io/mode: Reconcile
  hookConfig:
    hooks:
    - containerRegex: regex*
      hook:
        apiVersion: triliovault.trilio.io/v1
        kind: Hook
        name: hook-ns
        namespace: pushkar
        resourceVersion: "95382125"
        uid: 0e3bfb48-bcf9-4cb8-9a4e-40e37d2b3498
      podSelector:
        labels:
        - matchExpressions:
          - key: app.kubernetes.io/instance
            operator: Exists
          matchLabels:
            addonmanager.kubernetes.io/mode: Reconcile
        regex: mongo*
    mode: Sequential
    podReadyWaitSeconds: 120
status:
  applicationType: Custom
  fullBackupCron:
    apiVersion: batch/v1beta1
    kind: CronJob
    name: bplan-with-all-details-nfs-full-w8v4cx
    namespace: pushkar
    resourceVersion: "95525803"
    uid: 6b9b44d2-74a9-45f8-a440-f71e239a542c
  incrementalCron:
    apiVersion: batch/v1beta1
    kind: CronJob
    name: bplan-with-all-details-nfs-incremental-eu1k3w
    namespace: pushkar
    resourceVersion: "95525802"
    uid: 3f5b4730-4a5c-4029-b6d6-88cf8b36e21d
  scope: App
  status: Available
